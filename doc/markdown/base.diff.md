<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](doc/markdown/./index.md) &gt; [@zephyr3d/base](doc/markdown/./base.md) &gt; [diff](doc/markdown/./base.diff.md)

## diff() function

Compute a patch that transforms `base` into `target`<!-- -->.

This function emits a sequence of operations needed to convert the input value `base` into `target`<!-- -->. The resulting [DiffPatch](doc/markdown/./base.diffpatch.md) can be applied with [applyPatch()](doc/markdown/./base.applypatch.md)<!-- -->.

Semantics: - Primitives: emits a single `set` if values differ. - Objects: recurses into keys; emits `set` for additions/updates and `del` for removals. - Arrays: emits an `arr` operation containing element-wise `set`<!-- -->, `ins`<!-- -->, and `del`<!-- -->.

Notes: - Comparison for primitives uses strict equality (`===`<!-- -->) via `shallowEqual`<!-- -->. - Complex nested changes within arrays are represented either as: - element-wise `set` when types differ or primitives differ, or - nested operations pushed to the top-level with extended paths when elements are arrays/objects. - This is not a minimum-edit-distance diff; it's a straightforward positional diff.

**Signature:**

```typescript
declare function diff(base: DiffValue, target: DiffValue): DiffPatch;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

base


</td><td>

[DiffValue](doc/markdown/./base.diffvalue.md)


</td><td>

The source value.


</td></tr>
<tr><td>

target


</td><td>

[DiffValue](doc/markdown/./base.diffvalue.md)


</td><td>

The desired target value.


</td></tr>
</tbody></table>

**Returns:**

[DiffPatch](doc/markdown/./base.diffpatch.md)

A [DiffPatch](doc/markdown/./base.diffpatch.md) that converts `base` into `target`<!-- -->.

