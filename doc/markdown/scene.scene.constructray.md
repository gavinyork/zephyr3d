<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](doc/markdown/./index.md) &gt; [@zephyr3d/scene](doc/markdown/./scene.md) &gt; [Scene](doc/markdown/./scene.scene.md) &gt; [constructRay](doc/markdown/./scene.scene.constructray.md)

## Scene.constructRay() method

Constructs a world-space ray from a camera and a screen position.

**Signature:**

```typescript
constructRay(camera: Camera, viewportWidth: number, viewportHeight: number, screenX: number, screenY: number, invModelMatrix?: Matrix4x4): Ray;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

camera


</td><td>

[Camera](doc/markdown/./scene.camera.md)


</td><td>

Camera whose projection/view defines the ray.


</td></tr>
<tr><td>

viewportWidth


</td><td>

number


</td><td>

Current viewport width in pixels.


</td></tr>
<tr><td>

viewportHeight


</td><td>

number


</td><td>

Current viewport height in pixels.


</td></tr>
<tr><td>

screenX


</td><td>

number


</td><td>

Screen-space x (pixels).


</td></tr>
<tr><td>

screenY


</td><td>

number


</td><td>

Screen-space y (pixels).


</td></tr>
<tr><td>

invModelMatrix


</td><td>

[Matrix4x4](doc/markdown/./base.matrix4x4.md)


</td><td>

_(Optional)_ Optional inverse model matrix to transform the ray into local space.


</td></tr>
</tbody></table>

**Returns:**

[Ray](doc/markdown/./base.ray.md)

The constructed Ray.

## Remarks

Computes NDC from screen coordinates, unprojects using `invViewProjectionMatrix`<!-- -->, then forms a ray from the camera world position to the unprojected point. If `invModelMatrix` is provided, both origin and direction are transformed.

