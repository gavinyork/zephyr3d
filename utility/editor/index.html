<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Zephyr3d Editor</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      html,
      body {
        width: 100vw;
        height: 100vh;
      }
      canvas {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
      }
    </style>
    <link rel="stylesheet" href="./vendor/monaco/vs/editor/editor.main.css" />
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script src="./vendor/typescript.js"></script>
    <script src="./vendor/monaco/vs/loader.js"></script>
    <script>
      const a = document.createElement('a');
      a.href = './vendor/monaco/vs';
      console.log(`[main] vs path -> ${a.href}`);
      require.config({ paths: { vs: a.href } });
      window.MonacoEnvironment = {
        getWorkerUrl: function (workerId, label) {
          return './vendor/monaco/vs/base/worker/workerMain.js';
        }
      };
      require(['vs/editor/editor.main'], () => {
        monaco.languages.typescript.typescriptDefaults.setEagerModelSync(true);
        console.log('models count:', monaco.editor.getModels().length);
      });
    </script>
    <script type="module" src="/src/app.ts"></script>
  </body>
</html>
